<Window x:Class="DC.Translator.Tool.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:local="clr-namespace:DC.Translator.Tool"
        xmlns:prism="http://prismlibrary.com/" prism:ViewModelLocator.AutoWireViewModel="True"
        mc:Ignorable="d" WindowStartupLocation="CenterScreen"
        Title="MainWindow" Height="800" Width="1150">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition></RowDefinition>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="4*"></ColumnDefinition>
            <ColumnDefinition Width="1*"></ColumnDefinition>
            <ColumnDefinition Width="2*"></ColumnDefinition>
        </Grid.ColumnDefinitions>
        <Grid Grid.Row="0" Grid.Column="0" Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"></RowDefinition>
                <RowDefinition Height="*"></RowDefinition>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Button Grid.Row="0" Grid.Column="0" HorizontalAlignment="Stretch" Command="{Binding CreateDbCmd}">新建翻译数据库...</Button>
            <Button Grid.Row="0" Grid.Column="1" HorizontalAlignment="Stretch" Command="{Binding SelectDbCmd}">选择翻译数据库...</Button>
            <TextBlock Grid.Row="0" Margin="5" Grid.Column="2" Text="{Binding DbFilePath}"></TextBlock>
            <Button Grid.Row="1" Grid.Column="0"  HorizontalAlignment="Stretch" Command="{Binding SelectSrcFolderCmd}">选择源码所在目录...</Button>
            <TextBlock Grid.Row="1" Grid.Column="2" Margin="5" Text="{Binding SrcCodeFolder}"></TextBlock>
            <Button  Grid.Row="0" Grid.Column="3" MinWidth="80"  Command="{Binding TranByBaiduCmd}">自动翻译</Button>
            <Button  Grid.Row="1" Grid.Column="3" MinWidth="80"  Command="{Binding ExtractLiteralCmd}">提取</Button>
        </Grid>
        <Grid  Grid.Row="0" Grid.Column="1" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Right">当前语种：</TextBlock>
            <ComboBox Grid.Column="1" MinWidth="80" ItemsSource="{Binding Languages}" SelectedItem="{Binding SelectedLang}" VerticalAlignment="Center" Padding="5">
                <!--<i:Interaction.Triggers>
                    <i:EventTrigger EventName="SelectionChanged">
                        <prism:InvokeCommandAction Command="{Binding SelectedLangChangedCmd}" TriggerParameterPath="AddedItems"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>-->
            </ComboBox>
        </Grid>
        <Grid Grid.Row="0" Grid.Column="2" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Button Grid.Column="0" Margin="6" Command="{Binding CreateItemCmd}">
                <Image Width="40" Source="pack://application:,,,/images/AddItem.png"></Image>
            </Button>
            <Button Grid.Column="1" Margin="6" Command="{Binding DeleteItemCmd}">
                <Image Width="40" Source="pack://application:,,,/images/Delete.png"></Image>
            </Button>
            <Button Grid.Column="2" Margin="6" Command="{Binding EditItemCmd}">
                <Image Width="40" Source="pack://application:,,,/images/Edit.png"></Image>
            </Button>
        </Grid>
        <TabControl Grid.Row="1" Grid.ColumnSpan="2" SelectedIndex="{Binding SelectedIndex}">
            <TabItem Header="静态文本">
                <DataGrid AutoGenerateColumns="False" ItemsSource="{Binding StaticItems}" SelectedItem="{Binding SelectedStaticItem}" CanUserDeleteRows="False">
                    <DataGrid.InputBindings>
                        <KeyBinding Key="Delete" Command="{Binding DeleteItemCmd}"/>
                    </DataGrid.InputBindings>
                    <DataGrid.Columns>
                        <DataGridTextColumn DisplayIndex="0" Header="序号" Binding="{Binding Id}"></DataGridTextColumn>
                        <DataGridTextColumn DisplayIndex="1" Header="中文" Binding="{Binding Chinese}" Width="*"></DataGridTextColumn>
                        <DataGridTextColumn DisplayIndex="2" Header="翻译内容" Binding="{Binding Translation}" Width="*"></DataGridTextColumn>
                        <DataGridTextColumn DisplayIndex="3" Header="插入时间" Binding="{Binding InsertTime, StringFormat={}{0:yyyy/MM/dd HH:mm:ss}}"></DataGridTextColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </TabItem>
            <TabItem Header="动态文本">
                <DataGrid AutoGenerateColumns="False" ItemsSource="{Binding DynamicItems}" SelectedItem="{Binding SelectedDynamicItem}" CanUserDeleteRows="False">
                    <DataGrid.InputBindings>
                        <KeyBinding Key="Delete" Command="{Binding DeleteItemCmd}"/>
                    </DataGrid.InputBindings>
                    <DataGrid.Columns>
                        <DataGridTextColumn DisplayIndex="0" Header="序号" Binding="{Binding Id}"></DataGridTextColumn>
                        <DataGridTextColumn DisplayIndex="1" Header="变量名(Key)" Binding="{Binding Key}"></DataGridTextColumn>
                        <DataGridTextColumn DisplayIndex="2" Header="中文" Binding="{Binding Chinese}" Width="*"></DataGridTextColumn>
                        <DataGridTextColumn DisplayIndex="3" Header="翻译内容" Binding="{Binding Translation}" Width="*"></DataGridTextColumn>
                        <DataGridTextColumn DisplayIndex="4" Header="插入时间" Binding="{Binding InsertTime, StringFormat={}{0:yyyy/MM/dd HH:mm:ss}}"></DataGridTextColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
